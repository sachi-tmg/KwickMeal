<!DOCTYPE html>
{%load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{%static 'css/menu.css'%}"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
        integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kwickMeal | Menu</title>
</head>

<body>
    <header>
        <div class="header">
            <div class="headerbar">
                <div class="account">
                    <ul>
                        <a href="#">
                            <li>
                                <i class="fa-solid fa-house-chimney"></i>
                            </li>
                        </a>

                        <form action="{% url 'signup' %}" method="get">
                            <button type="submit" class="user-button">
                                <li>
                                    <i class="fa-solid fa-user"></i>
                                </li>
                            </button>
                        </form>
                    </ul>
                </div>
                <div class="nav">
                    <ul>
                        <a href="{% url 'home' %}">
                            <li>Home</li>
                        </a>
                        <a href="{% url 'menu' %}">
                            <li>Menu</li>
                        </a>
                        <a href="#footer">
                            <li>Contact</li>
                        </a>
                        <a href="">
                            <li>About Us</li>
                        </a>
                        <a href="">
                            <li>Blog</li>
                        </a>
                        <a href="">
                            <li>Reservation</li>
                        </a>
                    </ul>
                </div>
            </div>
            <div class="logo">
                {% load static %}
                <img src="{% static 'images/logo.png' %}" alt="Logo" style="width: 50px; height: auto;">
            </div>
            <div class="bar">
                <i class="fa-solid fa-bars"></i>
                <i class="fa-solid fa-xmark" id="hdcross"></i>
            </div>
            <div class="nav">
                <ul>
                    <a href="{% url 'home' %}">
                        <li>Home</li>
                    </a>
                    <a href="{% url 'menu' %}">
                        <li>Menu</li>
                    </a>
                    <a href="#footer">
                        <li>Contact</li>
                    </a>
                    <a href="#">
                        <li>About Us</li>
                    </a>
                    <a href="#">
                        <li>Blog</li>
                    </a>
                    <a href="{% url 'reservation' %}">
                        <li>Reservation</li>
                    </a>

                </ul>
            </div>
            <div class="account">
                <ul>
                    <a href="#">
                        <li>
                            <i class="fa-solid fa-house-chimney">
                            </i>
                        </li>
                    </a>

                    <form action="{% url 'signup' %}" method="get">
                        <button type="submit" class="user-button">Register</button>
                    </form>


                </ul>
            </div>
        </div>

    </header>
    <div class="dropdown">
        <button class="dropbtn">Dropdown</button>
        <div class="dropdown-content">
         <a href="#" onclick="showMenu('burgers')">Burger</a>
          <a href="#">Breakfast</a>
          <a href="#">Drinks</a>
          <a href="#">Dinner</a>
          <a href="#">Pizza</a>
          <a href="#">Dessert</a>
          <a href="#">Snack</a>


        </div>
      </div>
      


    <div class="menu">
        <h1>Our<span>Menu</span></h1>
        <div class="menu_box">
            {% for burger in burgers %}
                <div class="menu_card">
                    <div class="menu_img">
                        <img src="{{ burger.burger_picture.url }}" alt="{{ burger.burger_name }} Image">
                    </div>
                    <div class="menu_text">
                        <h2>{{ burger.burger_name }}</h2>
                        <p>Price: ${{ burger.burger_price }}</p>
                        <p>{{ burger.burger_description }}</p>

                        <a href="#" class="menu_btn"><i class="fa-solid fa-burger"></i>Order Now</a>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="menu_box">
            {% for breakfast in breakfast %}
                <div class="menu_card">
                    <div class="menu_img">
                        <img src="{{ breakfast.breakfast_picture.url }}" alt="{{ breakfast.breakfast_name }} Image">
                    </div>
                    <div class="menu_text">
                        <h2>{{ breakfast.breakfast_name }}</h2>
                        <p>Price: ${{ breakfast.breakfast_price }}</p>
                        <p>{{ breakfast.breakfast_description }}</p>

                        <a href="#" class="menu_btn"><i class="fa-solid fa-breakfast"></i>Order Now</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>   
    <script>
        // Function to show burger data
        function showMenu(category) {
          if (category === 'burgers') {
            // Make an AJAX request to fetch burger data
            $.ajax({
              url: '/menu/burgers/',  // Adjust the URL to your Django view that returns burger data
              type: 'GET',
              dataType: 'json',
              success: function (data) {
                // Display burger data in the menu_box container
                var menuBox = $('.menu_box');
                menuBox.empty(); // Clear previous data
                data.burgers.forEach(function (burger) {
                  menuBox.append(`
                    <div class="menu_card">
                      <div class="menu_img">
                        <img src="${burger.burger_picture}" alt="${burger.burger_name} Image">
                      </div>
                      <div class="menu_text">
                        <h2>${burger.burger_name}</h2>
                        <p>Price: $${burger.burger_price}</p>
                        <p>${burger.burger_description}</p>
                        <a href="#" class="menu_btn"><i class="fa-solid fa-burger"></i>Order Now</a>
                      </div>
                    </div>
                  `);
                });
              },
              error: function (error) {
                console.log('Error fetching burger data:', error);
              }
            });
          }
        }
      
        // Attach the showMenu function to the click event of the dropdown options
        $(document).ready(function () {
          $('.dropdown-content a').click(function () {
            var category = $(this).text().toLowerCase(); // Get the lowercase category name
            showMenu(category);
          });
        });
      </script>
      
    {% comment %} <div class="menu_box">
        {% for drink in drink %}
            <div class="menu_card">
                <div class="menu_img">
                    <img src="{{ drink.drink_picture.url }}" alt="{{ drink.drink_name }} Image">
                </div>
                <div class="menu_text">
                    <h2>{{ drink.drink_name }}</h2>
                    <p>Price: ${{ drink.drink_price }}</p>
                    <p>{{ drink.drink_description }}</p>

                    <a href="#" class="menu_btn"><i class="fa-solid fa-drink"></i>Order Now</a>
                </div>
            </div>
        {% endfor %}
    </div>
</div>     
<div class="menu_box">
    {% for snack in snack %}
        <div class="menu_card">
            <div class="menu_img">
                <img src="{{ snack.snack_picture.url }}" alt="{{ snack.snack_name }} Image">
            </div>
            <div class="menu_text">
                <h2>{{ snack.snack_name }}</h2>
                <p>Price: ${{ snack.snack_price }}</p>
                <p>{{ snack.snack_description }}</p>

                <a href="#" class="menu_btn"><i class="fa-solid fa-snack"></i>Order Now</a>
            </div>
        </div>
    {% endfor %}
    </div>
</div>          {% endcomment %}

        </div>

    </div>

</div>

    </div>
    <script>
        const bar = document.querySelector('.fa-bars');
        const cross = document.querySelector('#hdcross');
        const headerbar = document.querySelector('.headerbar');

        bar.addEventListener('click', function () {
            setTimeout(() => {
                cross.style.display = 'block';
            }, 200);
            headerbar.style.right = '0%';
        })

        cross.addEventListener('click', function () {
            cross.style.display = 'none';
            headerbar.style.right = '-100%';
        })

        function redirectToMenu() {
            // Change the window location to the menu.html when the button is clicked
            window.location.href = "menu.html";
        }
        window.addEventListener('resize', function () {
            // Add your logic here if needed
        });
    </script>
</body>

</html>